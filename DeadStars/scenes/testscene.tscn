[gd_scene load_steps=14 format=4 uid="uid://ccit002joxsvv"]

[ext_resource type="Script" path="res://addons/func_godot/src/map/func_godot_map.gd" id="1_51026"]
[ext_resource type="Resource" path="res://addons/func_godot/func_godot_default_map_settings.tres" id="2_4jfcy"]
[ext_resource type="Material" path="res://textures/Grass1.tres" id="3_8iq3n"]
[ext_resource type="PackedScene" uid="uid://cbseiu8v8wlhh" path="res://DeadStars/prefabs/player/DS_player_object.tscn" id="4_w115f"]
[ext_resource type="PackedScene" uid="uid://ciryyfobi7dmd" path="res://KOMPrefabs/Thrait/thrait_albino.tscn" id="5_3ng7s"]
[ext_resource type="PackedScene" uid="uid://dfnd2drrmwkyf" path="res://KOMPrefabs/NPCs/PompNpc.tscn" id="6_xr5s1"]
[ext_resource type="Script" path="res://CustomScripts/AutoLoads/NpcSceneRules.gd" id="7_8e63k"]

[sub_resource type="Sky" id="Sky_u5ai1"]

[sub_resource type="Environment" id="Environment_4h3am"]
background_mode = 2
sky = SubResource("Sky_u5ai1")
ambient_light_source = 3
volumetric_fog_enabled = true
volumetric_fog_albedo = Color(0.918467, 0.932983, 0.65644, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_c36qr"]
vertices = PackedVector3Array(-8.5, 1.2, -9.5, -8.5, 1.2, 8.5, 8.5, 1.2, 8.5, 8.5, 1.2, -9.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
cell_height = 0.1

[sub_resource type="ArrayMesh" id="ArrayMesh_2qbnw"]
_surfaces = [{
"aabb": AABB(-9, -1, -10, 18, 2, 19),
"attribute_data": PackedByteArray("AAAQQQAAgL8AABBBAACAPwAAEMEAAIA/AAAQwQAAgL8AACDBAACAvwAAEEEAAIC/AAAQQQAAgD8AACDBAACAPwAAIEEAABDBAAAgQQAAEEEAABDBAAAQQQAAEMEAABDBAAAgwQAAEMEAABBBAAAQwQAAEEEAABBBAAAgwQAAEEEAACBBAACAvwAAIEEAAIA/AAAQwQAAgD8AABDBAACAvwAAEMEAAIC/AAAQQQAAgL8AABBBAACAPwAAEMEAAIA/"),
"format": 34359742487,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAAACAAMABAAFAAYABAAGAAcACAAJAAoACAAKAAsADAANAA4ADAAOAA8AEAARABIAEAASABMAFAAVABYAFAAWABcA"),
"material": ExtResource("3_8iq3n"),
"name": "Grass1",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("AAAQwQAAgD8AACDBAAAQwQAAgL8AACDBAAAQQQAAgL8AACDBAAAQQQAAgD8AACDBAAAQwQAAgD8AACDBAAAQwQAAgD8AABBBAAAQwQAAgL8AABBBAAAQwQAAgL8AACDBAAAQQQAAgL8AACDBAAAQwQAAgL8AACDBAAAQwQAAgL8AABBBAAAQQQAAgL8AABBBAAAQQQAAgD8AACDBAAAQQQAAgD8AABBBAAAQwQAAgD8AABBBAAAQwQAAgD8AACDBAAAQQQAAgD8AACDBAAAQQQAAgL8AACDBAAAQQQAAgL8AABBBAAAQQQAAgD8AABBBAAAQwQAAgD8AABBBAAAQQQAAgD8AABBBAAAQQQAAgL8AABBBAAAQwQAAgL8AABBB/////wAA/7//////AAD/v/////8AAP+//////wAA/78AAP9//3//vwAA/3//f/+/AAD/f/9//78AAP9//3//v/9/AAD//////38AAP//////fwAA//////9/AAD//////3////9//7//f////3//v/9/////f/+//3////9//7////9//////////3//////////f/////////9///////9//3////+//3//f////7//f/9/////v/9//3////+/")
}]

[sub_resource type="ArrayOccluder3D" id="ArrayOccluder3D_8xnrs"]
vertices = PackedVector3Array(-9, 1, -10, -9, -1, -10, 9, -1, -10, 9, 1, -10, -9, 1, -10, -9, 1, 9, -9, -1, 9, -9, -1, -10, 9, -1, -10, -9, -1, -10, -9, -1, 9, 9, -1, 9, 9, 1, -10, 9, 1, 9, -9, 1, 9, -9, 1, -10, 9, 1, -10, 9, -1, -10, 9, -1, 9, 9, 1, 9, -9, 1, 9, 9, 1, 9, 9, -1, 9, -9, -1, 9)
indices = PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7, 8, 9, 10, 8, 10, 11, 12, 13, 14, 12, 14, 15, 16, 17, 18, 16, 18, 19, 20, 21, 22, 20, 22, 23)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_geyoc"]
points = PackedVector3Array(-9, 1, -10, -9, -1, -10, 9, -1, -10, 9, 1, -10, -9, 1, 9, -9, -1, 9, 9, -1, 9, 9, 1, 9)

[node name="Testscene" type="Node3D"]

[node name="NpcSceneRules" type="Node" parent="."]
script = ExtResource("7_8e63k")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.85828, 2.62619, 4.01694)
light_color = Color(0.510792, 0.104778, 0.325733, 1)
light_energy = 1.205

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.08796, 5.91915, -0.942636)
omni_range = 16.8718

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_4h3am")

[node name="PlayerObject" parent="." instance=ExtResource("4_w115f")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 1.21401, 1.98907, -3.05717)

[node name="Thrait Albino" parent="." instance=ExtResource("5_3ng7s")]
transform = Transform3D(-0.999587, 0, -0.0287417, 0, 1, 0, 0.0287417, 0, -0.999587, 1.82162, 1, 2.33738)

[node name="DialogueSystem" parent="Thrait Albino" index="8"]
transform = Transform3D(-0.556455, 0, 0.830878, 0, 1, 0, -0.830878, 0, -0.556455, 0, 0, 0)

[node name="Skeleton3D" parent="Thrait Albino/Thrait Young/Armature" index="0"]
bones/0/position = Vector3(-6.20876e-09, 1.03018, 0.0561936)
bones/0/rotation = Quaternion(0.374228, -1.10547e-07, -4.46115e-08, 0.927337)
bones/1/rotation = Quaternion(0.0368758, 1.24146e-14, -8.79186e-09, 0.99932)
bones/2/rotation = Quaternion(0.319362, -0.0878069, 0.114895, 0.936535)
bones/3/rotation = Quaternion(-0.023332, -1.19065e-07, 1.94036e-08, 0.999728)
bones/4/rotation = Quaternion(0.422105, 0.0261368, 0.103647, 0.900223)
bones/5/rotation = Quaternion(-0.00538996, 0.00546854, -0.00466483, 0.99996)
bones/7/position = Vector3(0.0702588, 0.284043, 0.122928)
bones/8/rotation = Quaternion(-0.734234, -5.60875e-09, 8.70089e-07, 0.678896)
bones/8/scale = Vector3(1, 0.25695, 1)
bones/9/position = Vector3(0.0742415, 0.165046, 0.00749696)
bones/9/scale = Vector3(1.02652, 1.02652, 1.02652)
bones/10/position = Vector3(-0.0702585, 0.284043, 0.122928)
bones/11/rotation = Quaternion(-0.734234, 8.03699e-07, -5.18596e-09, 0.678896)
bones/11/scale = Vector3(1, 0.25695, 1)
bones/12/position = Vector3(-0.0742414, 0.165046, 0.00749731)
bones/12/scale = Vector3(1.02652, 1.02652, 1.02652)
bones/13/rotation = Quaternion(0.297837, 0.0652871, -0.729319, 0.612474)
bones/14/rotation = Quaternion(0.398941, -0.0317734, 0.0330661, 0.915829)
bones/15/rotation = Quaternion(0.123018, 0.307445, 0.272414, 0.903402)
bones/16/rotation = Quaternion(0.149465, 0.0111215, 0.136538, 0.979231)
bones/17/rotation = Quaternion(0.129105, -0.0135471, -0.011818, 0.991468)
bones/19/rotation = Quaternion(-0.489503, 0.475102, 0.604935, -0.410754)
bones/21/rotation = Quaternion(0.398941, 0.0317734, -0.0330661, 0.915829)
bones/22/rotation = Quaternion(0.123018, -0.307445, -0.272414, 0.903402)
bones/23/rotation = Quaternion(0.149465, -0.0111215, -0.136538, 0.979231)
bones/24/rotation = Quaternion(0.129105, 0.0135471, 0.0118179, 0.991468)
bones/26/rotation = Quaternion(0.489503, 0.475102, 0.604934, 0.410754)
bones/28/rotation = Quaternion(-0.122532, -2.18122e-14, 5.84275e-08, 0.992465)
bones/29/rotation = Quaternion(0.183415, -2.16224e-09, -7.36292e-08, 0.983036)
bones/30/rotation = Quaternion(0.0987163, -4.93062e-10, -4.14185e-08, 0.995116)
bones/31/rotation = Quaternion(0.117241, -3.4768e-13, -5.59046e-08, 0.993104)
bones/33/rotation = Quaternion(0.645938, -0.0625705, -0.39873, 0.647969)
bones/34/rotation = Quaternion(0.236007, 0.0646187, -0.641314, 0.727215)
bones/35/rotation = Quaternion(-0.101388, -1.18976e-07, 0.472181, 0.875651)
bones/36/rotation = Quaternion(-0.143265, 1.02445e-07, 0.667205, 0.730967)
bones/39/rotation = Quaternion(0.645938, 0.0625704, 0.39873, 0.647969)
bones/40/rotation = Quaternion(0.236007, -0.0646187, 0.641314, 0.727215)
bones/41/rotation = Quaternion(-0.101388, 1.12923e-07, -0.472181, 0.875651)
bones/42/rotation = Quaternion(-0.143265, -9.31323e-10, -0.667205, 0.730967)

[node name="Body" parent="Thrait Albino/Thrait Young/Armature/Skeleton3D" index="0"]
surface_material_override/0 = null

[node name="Clothes" parent="Thrait Albino/Thrait Young/Armature/Skeleton3D" index="1"]
surface_material_override/0 = null

[node name="Hair" parent="Thrait Albino/Thrait Young/Armature/Skeleton3D" index="2"]
surface_material_override/0 = null

[node name="PompNPC" parent="Thrait Albino" instance=ExtResource("6_xr5s1")]
transform = Transform3D(0.982186, 0, 0.187913, 0, 1, 0, -0.187913, 0, 0.982186, 2.9836, 0.970638, -0.674746)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_c36qr")

[node name="FuncGodotMap" type="Node3D" parent="NavigationRegion3D"]
script = ExtResource("1_51026")
local_map_file = "res://DeadStars/maps/test.map"
map_settings = ExtResource("2_4jfcy")

[node name="entity_0_worldspawn" type="StaticBody3D" parent="NavigationRegion3D/FuncGodotMap"]
collision_mask = 0

[node name="entity_0_mesh_instance" type="MeshInstance3D" parent="NavigationRegion3D/FuncGodotMap/entity_0_worldspawn"]
mesh = SubResource("ArrayMesh_2qbnw")

[node name="entity_0_occluder_instance" type="OccluderInstance3D" parent="NavigationRegion3D/FuncGodotMap/entity_0_worldspawn"]
occluder = SubResource("ArrayOccluder3D_8xnrs")

[node name="entity_0_brush_0_collision_shape" type="CollisionShape3D" parent="NavigationRegion3D/FuncGodotMap/entity_0_worldspawn"]
shape = SubResource("ConvexPolygonShape3D_geyoc")

[editable path="Thrait Albino"]
